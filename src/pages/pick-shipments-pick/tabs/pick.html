<!--
  Generated template for the PickShipmentsPickPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>Pick</ion-title>
    </ion-navbar>

</ion-header>
<barcode-listener (scan)='onBarcodeScan($event);'></barcode-listener>
<ion-content padding style="position: relative;">
    <div *ngIf="getSuggestedAllocation() != null">
        <h5 style="text-align: center;">{{getSuggestedAllocation()?.InventoryID?.value}}</h5>
        <h6 style="text-align: center;">{{getSuggestedAllocation()?.Description?.value}}</h6>
        <h6 style="text-align: center;">Picked {{getTotalPickedQty()}} of
            {{getSuggestedAllocation()?.TotalRemainingQty}}</h6>
    </div>

    <ion-grid>
        <ion-row>
            <ion-col>
                <ion-item no-margin no-padding>
                    <ion-label color="primary">Bin:</ion-label>
                    <ion-input [ngModel]="getSuggestedAllocation()?.LocationID?.value" readonly></ion-input>
                </ion-item>
            </ion-col>
            <ion-col>
                <ion-item>
                    <ion-label color="primary">&nbsp;</ion-label>
                    <ion-input id="location" #location type="text" [(ngModel)]="enteredData.location"
                               (focus)="$event.target.select();" (keypress)="$event.stopPropagation();" (keyup.enter)="setLocation()"></ion-input>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                <ion-item no-margin no-padding>
                    <ion-label color="primary">SKU:</ion-label>
                    <ion-input [ngModel]="getSuggestedAllocation()?.InventoryID?.value" readonly></ion-input>
                </ion-item>
            </ion-col>
            <ion-col>
                <ion-item>
                    <ion-label color="primary">&nbsp;</ion-label>
                    <ion-input id="item" #item type="text" [(ngModel)]="enteredData.item"
                               (focus)="$event.target.select();" (keypress)="$event.stopPropagation();" (keyup.enter)="setItem()"></ion-input>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row *ngIf="showLot">
            <ion-col>
                <ion-item>
                    <ion-label color="primary">Lot/Serial:</ion-label>
                    <ion-input [ngModel]="getSuggestedAllocation()?.LotSerialNbr?.value" readonly></ion-input>
                </ion-item>
            </ion-col>
            <ion-col>
                <ion-item>
                    <ion-label color="primary">&nbsp;</ion-label>
                    <ion-input id="lot" #lot [(ngModel)]="enteredData.lot" (keyup.enter)="setLotSerial()"></ion-input>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row *ngIf="showQty">
            <ion-col>
                <ion-item>
                    <ion-label color="primary">Qty:</ion-label>
                    <ion-input [ngModel]="getSuggestedPickQty()" readonly></ion-input>
                </ion-item>
            </ion-col>
            <ion-col>
                <ion-item>
                    <ion-label color="primary">&nbsp;</ion-label>
                    <ion-input id="qty" type="number" #qty [(ngModel)]="enteredData.qty"
                               (focus)="$event.target.select();" (keyup.enter)="addPick()"></ion-input>
                </ion-item>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>
<ion-footer no-shadow>
    <ion-toolbar position="bottom">
        <div class="row">
            <div class="col">
                <button type="button" ion-button small (click)="previousItem()">
                    <ion-icon name="arrow-back"></ion-icon>
                </button>
                <button type="button" ion-button small (click)="nextItem()">
                    <ion-icon name="arrow-forward"></ion-icon>
                </button>
            </div>
            <div class="col">
                <button type="button" ion-button small (click)="addPick()">OK</button>
            </div>
            <div class="col">
                <button type="button" ion-button small (click)="resetForm()">Cancel</button>
            </div>
            <div class="col">
                <button type="button" ion-button small (click)="confirmPicks()">Commit</button>
            </div>
            <div class="col">
                <button type="button" ion-button small (click)="cancelPicks()">Cancel All</button>
            </div>
        </div>
        <!--<div class="row">

        </div>-->
    </ion-toolbar>
</ion-footer>



